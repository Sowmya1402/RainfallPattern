{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import'./App.css';import'./Grid.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const numRows=20;const numCols=20;const maxActiveColumns=2;const App=()=>{const[grid,setGrid]=useState(createGrid());const[colorIndex,setColorIndex]=useState(0);const colorIndexRef=useRef(colorIndex);const colors=[['#ff00ff','#e600e6','#cc00cc','#b300b3','#990099'],['#00ffff','#00e6e6','#00cccc','#00b3b3','#009999'],['#ffff00','#e6e600','#cccc00','#b3b300','#999900'],['#ff4500','#e63e00','#cc3700','#b33000','#992900'],['#00ff00','#00e600','#00cc00','#00b300','#009900']];useEffect(()=>{const colorChangeInterval=setInterval(()=>{setColorIndex(prevIndex=>{const newIndex=(prevIndex+1)%colors.length;colorIndexRef.current=newIndex;return newIndex;});},3000);for(let i=0;i<maxActiveColumns;i++){startRainfallWithRandomDelay();}return()=>{clearInterval(colorChangeInterval);};},[]);const startRainfallWithRandomDelay=()=>{const randomDelay=Math.random()*2000;setTimeout(()=>{createRainfall();startRainfallWithRandomDelay();},randomDelay);};const createRainfall=()=>{const randomColumn=Math.floor(Math.random()*numCols);for(let i=0;i<numRows+5;i++){setTimeout(()=>{setGrid(prevGrid=>{const newGrid=prevGrid.map((row,rowIndex)=>row.map((cell,colIndex)=>{if(colIndex===randomColumn){if(rowIndex>=i&&rowIndex<i+5){return colors[colorIndexRef.current][rowIndex-i];}else if(rowIndex===i-1){return false;}}return cell;}));return newGrid;});},i*100);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"RainFall\"}),grid.map((row,rowIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:row.map((cell,colIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"cell\",style:{backgroundColor:cell?cell:''}},colIndex))},rowIndex))]});};const createGrid=()=>{const grid=[];for(let i=0;i<numRows;i++){const row=[];for(let j=0;j<numCols;j++){row.push(false);}grid.push(row);}return grid;};export default App;","map":{"version":3,"names":["React","useEffect","useState","useRef","jsx","_jsx","jsxs","_jsxs","numRows","numCols","maxActiveColumns","App","grid","setGrid","createGrid","colorIndex","setColorIndex","colorIndexRef","colors","colorChangeInterval","setInterval","prevIndex","newIndex","length","current","i","startRainfallWithRandomDelay","clearInterval","randomDelay","Math","random","setTimeout","createRainfall","randomColumn","floor","prevGrid","newGrid","map","row","rowIndex","cell","colIndex","className","children","style","backgroundColor","j","push"],"sources":["C:/Users/sreev/OneDrive/Desktop/Rainfall-Pattern/RainFall-grid/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport './App.css';\nimport './Grid.css';\n\nconst numRows = 20;\nconst numCols = 20;\nconst maxActiveColumns = 2; \n\nconst App = () => {\n  const [grid, setGrid] = useState(createGrid());\n  const [colorIndex, setColorIndex] = useState(0);\n  const colorIndexRef = useRef(colorIndex);\n\n  const colors = [\n    ['#ff00ff', '#e600e6', '#cc00cc', '#b300b3', '#990099'], \n    ['#00ffff', '#00e6e6', '#00cccc', '#00b3b3', '#009999'],\n    ['#ffff00', '#e6e600', '#cccc00', '#b3b300', '#999900'],\n    ['#ff4500', '#e63e00', '#cc3700', '#b33000', '#992900'], \n    ['#00ff00', '#00e600', '#00cc00', '#00b300', '#009900'] \n  ];\n\n  useEffect(() => {\n    const colorChangeInterval = setInterval(() => {\n      setColorIndex(prevIndex => {\n        const newIndex = (prevIndex + 1) % colors.length;\n        colorIndexRef.current = newIndex; \n        return newIndex;\n      });\n    }, 3000); \n\n   \n    for (let i = 0; i < maxActiveColumns; i++) {\n      startRainfallWithRandomDelay();\n    }\n\n    return () => {\n      clearInterval(colorChangeInterval);\n    };\n  }, []);\n\n  const startRainfallWithRandomDelay = () => {\n    const randomDelay = Math.random() * 2000; \n    setTimeout(() => {\n      createRainfall();\n      startRainfallWithRandomDelay(); \n    }, randomDelay);\n  };\n\n  const createRainfall = () => {\n    const randomColumn = Math.floor(Math.random() * numCols);\n\n    for (let i = 0; i < numRows + 5; i++) {\n      setTimeout(() => {\n        setGrid(prevGrid => {\n          const newGrid = prevGrid.map((row, rowIndex) =>\n            row.map((cell, colIndex) => {\n              if (colIndex === randomColumn) {\n                if (rowIndex >= i && rowIndex < i + 5) {\n                  return colors[colorIndexRef.current][rowIndex - i];\n                } else if (rowIndex === i - 1) {\n                  return false;\n                }\n              }\n              return cell;\n            })\n          );\n          return newGrid;\n        });\n      }, i * 100);\n    }\n  };\n\n  return (\n    <div className=\"grid\">\n    <h1>RainFall</h1>\n      {grid.map((row, rowIndex) => (\n        <div key={rowIndex} className=\"row\">\n          {row.map((cell, colIndex) => (\n            <div\n              key={colIndex}\n              className=\"cell\"\n              style={{ backgroundColor: cell ? cell : '' }}\n            />\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst createGrid = () => {\n  const grid = [];\n  for (let i = 0; i < numRows; i++) {\n    const row = [];\n    for (let j = 0; j < numCols; j++) {\n      row.push(false);\n    }\n    grid.push(row);\n  }\n  return grid;\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}